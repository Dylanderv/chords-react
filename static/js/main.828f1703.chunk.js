(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports=n(173)},147:function(e,t,n){},148:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),o=n.n(i),c=(n(147),n(13)),l=(n(148),n(149),{id:"0",username:"",expire:new Date(0)}),s={message:void 0,type:"info"},u="https://chord-server.herokuapp.com/",d=n(24),m=function(e){var t=r.a.useState(e),n=Object(c.a)(t,2),a=n[0],i=n[1];return{auth:a,setAuthStatus:function(e){var t=Object(d.a)({expire:new Date(Date.now()+36e5)},e);window.localStorage.setItem("UserAuth",JSON.stringify(t)),i(t)},setUnauthStatus:function(){window.localStorage.clear(),i(l)}}},p=r.a.createContext({auth:l,setAuthStatus:function(){},setUnauthStatus:function(){}}),h=p.Provider,f=function(e){var t=e.children,n=m(function(){var e=window.localStorage.getItem("UserAuth");if(e){var t=JSON.parse(e);if(t.expire=new Date(t.expire),t.expire.valueOf()>Date.now())return t}return l}()),a=n.auth,i=n.setAuthStatus,o=n.setUnauthStatus;return r.a.createElement(h,{value:{auth:a,setAuthStatus:i,setUnauthStatus:o}},t)},v=n(15),b=n.n(v),k=n(20),y=n(51),g=n(50),E=n(60),w=n(21),x=n(79),j=n(58),O=n(245),C=n(246),I=n(223),F=n(179),N=n(219),S=n(218),B=n(220),L=n(252),P=n(247),A=n(217),D=n(107),V='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="100%" viewBox="0 0 1120 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <title>Piano Keyboard</title>\n  <defs></defs>\n    <g id="piano-keyboard">\n      <g id="octave-1">\n        <rect id="octave-1-C-key" class="piano-key white-key" data-piano-key="C" stroke="#555555" fill="#FFFFF7" x="0" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-D-key" class="piano-key white-key" data-piano-key="D" stroke="#555555" fill="#FFFFF7" x="80" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-E-key" class="piano-key white-key" data-piano-key="E" stroke="#555555" fill="#FFFFF7" x="160" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-F-key" class="piano-key white-key" data-piano-key="F" stroke="#555555" fill="#FFFFF7" x="240" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-G-key" class="piano-key white-key" data-piano-key="G" stroke="#555555" fill="#FFFFF7" x="320" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-A-key" class="piano-key white-key" data-piano-key="A" stroke="#555555" fill="#FFFFF7" x="400" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-B-key" class="piano-key white-key" data-piano-key="B" stroke="#555555" fill="#FFFFF7" x="480" y="0" width="80" height="400"></rect>\n        <rect id="octave-1-Csharp-key" class="piano-key black-key" data-piano-key="Csharp" stroke="#979797" fill="#4B4B4B" x="60" y="0" width="40" height="280"></rect>\n        <rect id="octave-1-Dsharp-key" class="piano-key black-key" data-piano-key="Dsharp" stroke="#979797" fill="#4B4B4B" x="140" y="0" width="40" height="280"></rect>\n        <rect id="octave-1-Fsharp-key" class="piano-key black-key" data-piano-key="Fsharp" stroke="#979797" fill="#4B4B4B" x="300" y="0" width="40" height="280"></rect>\n        <rect id="octave-1-Gsharp-key" class="piano-key black-key" data-piano-key="Gsharp" stroke="#979797" fill="#4B4B4B" x="380" y="0" width="40" height="280"></rect>\n        <rect id="octave-1-Asharp-key" class="piano-key black-key" data-piano-key="Asharp" stroke="#979797" fill="#4B4B4B" x="460" y="0" width="40" height="280"></rect>\n      </g>\n      <g id="octave-2" transform="translate(560.000000, 0.000000)">\n        <rect id="octave-2-C-key" class="piano-key white-key" data-piano-key="C" stroke="#555555" fill="#FFFFF7" x="0" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-D-key" class="piano-key white-key" data-piano-key="D" stroke="#555555" fill="#FFFFF7" x="80" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-E-key" class="piano-key white-key" data-piano-key="E" stroke="#555555" fill="#FFFFF7" x="160" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-F-key" class="piano-key white-key" data-piano-key="F" stroke="#555555" fill="#FFFFF7" x="240" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-G-key" class="piano-key white-key" data-piano-key="G" stroke="#555555" fill="#FFFFF7" x="320" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-A-key" class="piano-key white-key" data-piano-key="A" stroke="#555555" fill="#FFFFF7" x="400" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-B-key" class="piano-key white-key" data-piano-key="B" stroke="#555555" fill="#FFFFF7" x="480" y="0" width="80" height="400"></rect>\n        <rect id="octave-2-Csharp-key" class="piano-key black-key" data-piano-key="Csharp" stroke="#979797" fill="#4B4B4B" x="60" y="0" width="40" height="280"></rect>\n        <rect id="octave-2-Dsharp-key" class="piano-key black-key" data-piano-key="Dsharp" stroke="#979797" fill="#4B4B4B" x="140" y="0" width="40" height="280"></rect>\n        <rect id="octave-2-Fsharp-key" class="piano-key black-key" data-piano-key="Fsharp" stroke="#979797" fill="#4B4B4B" x="300" y="0" width="40" height="280"></rect>\n        <rect id="octave-2-Gsharp-key" class="piano-key black-key" data-piano-key="Gsharp" stroke="#979797" fill="#4B4B4B" x="380" y="0" width="40" height="280"></rect>\n        <rect id="octave-2-Asharp-key" class="piano-key black-key" data-piano-key="Asharp" stroke="#979797" fill="#4B4B4B" x="460" y="0" width="40" height="280"></rect>\n      </g>\n    </g>\n</svg>',T=n(125),U=new XMLSerializer,R=["Db","Eb","Gb","Ab","Bb"],G={Csharp:"Db",Db:"Csharp",Dsharp:"Eb",Eb:"Dsharp",Fsharp:"Gb",Gb:"Fsharp",Gsharp:"Ab",Ab:"Gsharp",Asharp:"Bb",Bb:"Asharp"},M={C:1,Csharp:2,D:3,Dsharp:4,E:5,F:6,Fsharp:7,G:8,Gsharp:9,A:10,Asharp:11,B:12};function z(e,t,n){var a={defaultColor:"#666"};"dark"===n&&(a.defaultColor="#ccc");var r,i=document.createElement("svg");void 0!==e&&e.position&&e.position.length>0&&(r={name:e.key,chords:e.position[0].frets.map(function(e,t){return-1===e?[t+1,"x"]:[t+1,e]}),finger:e.position[0].fingers,baseFret:e.position[0].baseFret,barres:e.position[0].barres.map(function(n){return function(e,t,n){var a=n,r=0;return e.forEach(function(e,n){e===t&&(n+1<a&&(a=n+1),n+1>r&&(r=n+1))}),{fromString:r,toString:a,fret:t}}(e.position[0].frets,n,"guitar"===t?6:4)})},new T.a(i,Object(d.a)({numStrings:"guitar"===t?6:4,width:ie.width,height:ie.height},a)).draw({chord:r.chords,position:r.baseFret,barres:r.barres}));return i}var $=n(19),_=n(18),H=n.n(_),W=n(29),K=n(212),J=n(128),q=function(){var e=a.useState(void 0),t=Object(c.a)(e,2),n=t[0],r=t[1],i=a.useState(-1),o=Object(c.a)(i,2),l=o[0],s=o[1],u=a.useState("info"),d=Object(c.a)(u,2),m=d[0],p=d[1];return{notification:{message:n,type:m},showNotification:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";-1!==l&&(clearTimeout(l),s(-1)),p(t),r(e);var n=window.setTimeout(function(){r(void 0)},3e3);s(n)},closeNotification:function(){-1!==l&&(clearTimeout(l),s(-1)),r(void 0)}}},X=r.a.createContext({notification:s,showNotification:function(){},closeNotification:function(){}}),Q=X.Provider,Y=function(e){var t=e.children,n=q(),a=n.notification,i=n.showNotification,o=n.closeNotification;return r.a.createElement(Q,{value:{notification:a,showNotification:i,closeNotification:o}},t)};function Z(){var e=Object(w.a)(["\n  mutation ModifyPartition($id: ID!, $partitionInput: PartitionInput!) {\n    modifyPartition(id: $id, partitionInput: $partitionInput) {\n      id\n      name\n      chords {\n        id\n      }\n      instrument {\n        id\n      }\n      content\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(w.a)(['\n{\n  partitionsFromUserForInstrument(userId: "','", instrumentId: "','") {\n    id\n    name\n    chords {\n      id\n    }\n    instrument {\n      id\n    }\n    owner {\n      id\n    }\n    content\n    visibility\n  }\n}\n']);return ee=function(){return e},e}var te;!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"}(te||(te={}));var ne=H()(Z()),ae=function(e){var t=e.userId,n=e.chordId,i=e.instrumentId,o=Object(a.useState)(null),l=Object(c.a)(o,2),s=l[0],u=l[1],d=Object($.b)(function(e,t){return H()(ee(),e,t)}(t,i)),m=d.data,p=d.loading,h=d.error,f=Object($.a)(ne),v=Object(c.a)(f,2),y=v[0],g=v[1],E=g.loading,w=g.error,x=Object(a.useContext)(X),j=function(){var e=Object(k.a)(b.a.mark(function e(a){var r,i,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a.chords.map(function(e){return e.id})).push(n),i={chords:r,instrumentId:a.instrument.id,name:a.name,ownerId:t,content:a.content,visibility:a.visibility},e.prev=3,e.next=6,y({variables:{id:a.id,partitionInput:i}});case 6:o=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("err",e.t0),x.showNotification("Erreur lors de l'ajout de l'accord","error");case 13:null!==o.data&&x.showNotification("L'accord a bien \xe9t\xe9 ajout\xe9","success"),u(null);case 15:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,!0===p&&r.a.createElement("div",null,"Loading..."),!0===E&&r.a.createElement("div",null,"Ajout de l'accord en cours"),!1===p&&void 0===h&&!1===E&&void 0===w&&r.a.createElement("div",null,r.a.createElement(K.a,{onClick:function(e){u(e.currentTarget)}},"Add to partition"),r.a.createElement(J.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){u(null)}},m.partitionsFromUserForInstrument.map(function(e){return r.a.createElement("div",{key:e.id},-1===e.chords.findIndex(function(e){return e.id===n})&&r.a.createElement(A.a,{onClick:function(){return j(e)}},e.name))}))),void 0===w&&r.a.createElement("p",null,w),void 0!==h&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))};function re(){var e=Object(w.a)(['\n  {\n    chordFromName(instrumentId: "','", key: "','",suffix: "','") {\n      id\n      key\n      suffix\n      position\n      info\n    }\n  }\n  ']);return re=function(){return e},e}var ie={width:250,height:400};var oe=function(e){var t,n,i=e.instrumentId,o=e.instrumentName,c=e.mainKey,l=e.suffix,s=e.isInPartition,u=Object(W.a)(),d=Object($.b)(function(e,t,n){return H()(re(),e,t,n)}(i,c,l)),m=d.error,h=d.data,f=d.loading,v=Object(a.useContext)(p),b="";if(!1===f&&void 0===m&&h.chordFromName){var k={id:h.chordFromName.id,info:h.chordFromName.info,key:h.chordFromName.key,position:JSON.parse(h.chordFromName.position),suffix:h.chordFromName.suffix};"piano"===o?b=function(e,t){var n=(new DOMParser).parseFromString(V,"text/xml");if("dark"===t){var a=n.getElementsByClassName("piano-key");for(var r in a){var i=a[r];i.classList&&i.classList.contains("white-key")?(i.setAttribute("fill","#4B4B4B"),i.setAttribute("stroke","#979797")):i.classList&&i.classList.contains("black-key")&&(i.setAttribute("fill","#e5e5e5"),i.setAttribute("stroke","#555555"))}}var o=e.position[0].name;R.includes(o)&&(o=G[o]);var c="octave-1-"+o+"-key";null!==n&&null!==n.getElementById(c)&&n.getElementById(c).setAttribute("fill","#ff0000");for(var l=!1,s=1;s<e.position.length;s++){var u=e.position[s].name;R.includes(u)&&(u=G[u]),!l&&M[o]>M[u]&&(l=!0),c=l?"octave-2-":"octave-1-",c+=u+"-key",null!==n&&null!==n.getElementById(c)&&n.getElementById(c).setAttribute("fill","#ff0000")}return U.serializeToString(n)}(k,u.palette.type):"guitar"===o?t=z(k,o,u.palette.type):"ukulele"===o&&(n=z(k,o,u.palette.type))}return r.a.createElement("div",null,!0===f&&r.a.createElement("div",null,"Loading..."),!1===f&&void 0===m&&r.a.createElement("div",null,"piano"===o&&""!==b?r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement("svg",{width:ie.height,dangerouslySetInnerHTML:{__html:b}})),"0"===v.auth.id||s?null:r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(ae,{userId:v.auth.id,chordId:h.chordFromName.id,instrumentId:i}))):r.a.createElement("div",null),"guitar"===o&&void 0!==t?r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement("svg",{width:ie.width,height:ie.height,dangerouslySetInnerHTML:{__html:t.outerHTML}})),"0"===v.auth.id||s?null:r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(ae,{userId:v.auth.id,chordId:h.chordFromName.id,instrumentId:i}))):r.a.createElement("div",null),"ukulele"===o&&void 0!==n?r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement("svg",{width:ie.width,height:ie.height,dangerouslySetInnerHTML:{__html:n.outerHTML}})),"0"===v.auth.id||s?null:r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(ae,{userId:v.auth.id,chordId:h.chordFromName.id,instrumentId:i}))):r.a.createElement("div",null)),void 0!==m&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))},ce=n(105),le=n.n(ce);function se(){var e=le()(),t=Object(a.useContext)(g.c);return Object(a.useEffect)(function(){return t.history.listen(e)},[t]),t}function ue(){var e=Object(w.a)(['\n  {\n    instrument(id: "','") {\n      keys\n      suffixes\n    }\n  }\n  ']);return ue=function(){return e},e}var de=Object(D.a)(function(e){return Object(N.a)({root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})});var me=function(e){var t=e.instrumentId,n=e.instrumentName,a=e.noViewer,i=Object($.b)(function(e){return H()(ue(),e)}(t)),o=i.error,l=i.loading,s=i.data,u=se(),m=de(),p=void 0!==u.match.params.key?u.match.params.key:"",h=void 0!==u.match.params.suffix?u.match.params.suffix:"",f=r.a.useState({key:p,suffix:h}),v=Object(c.a)(f,2),b=v[0],k=v[1],y=function(e){if(k(function(t){return Object(d.a)({},t,Object(E.a)({},e.target.name,e.target.value))}),!a){var t=["/chordViewer",n,"key"===e.target.name?e.target.value:b.key,"suffix"===e.target.name?e.target.value:b.suffix];u.history.replace(t.join("/"))}},g=[],w=[];return!1===l&&void 0===o&&(g=s.instrument.keys,w=s.instrument.suffixes),r.a.createElement("div",null,!0===l&&r.a.createElement("div",null,"Loading..."),!1===l&&void 0===o&&r.a.createElement("div",null,r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(B.a,{className:m.formControl},r.a.createElement(L.a,{htmlFor:"age-helper"},"Main Chord"),r.a.createElement(P.a,{value:b.key,onChange:y,inputProps:{name:"key"}},g.map(function(e){return r.a.createElement(A.a,{key:e,value:e},e)}))),r.a.createElement(B.a,{className:m.formControl},r.a.createElement(L.a,{htmlFor:"age-helper"},"Suffix"),r.a.createElement(P.a,{value:b.suffix,onChange:y,inputProps:{name:"suffix"}},w.map(function(e){return r.a.createElement(A.a,{key:e,value:e},e)})))),!1===a&&""!==b.key&&""!==b.suffix&&void 0!==b.key?r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(oe,{isInPartition:!1,instrumentId:t,instrumentName:n,mainKey:b.key,suffix:b.suffix})):r.a.createElement("div",null))),void 0!==o&&r.a.createElement("div",null,"Error, the backend moved to the dark side: ",o))};function pe(){var e=Object(w.a)(["\n  {\n    instruments {\n      id\n      name\n    }\n  }\n"]);return pe=function(){return e},e}function he(e){var t=e.children,n=e.value,a=e.index,i=Object(x.a)(e,["children","value","index"]);return r.a.createElement(j.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),r.a.createElement(O.a,{p:3},t))}var fe=Object(F.a)(function(e){return{root:{flexGrow:1}}}),ve=H()(pe()),be=function(e){var t,n=e.noViewer,a=Object($.b)(ve),i=a.loading,o=a.error,l=a.data,s=se(),u=s.history,m=s.match,p=fe();void 0!==m.params.instrument&&!1===n?t=m.params.instrument:!1===n&&(t="ukulele");var h=r.a.useState(0),f=Object(c.a)(h,2),v=f[0],b=f[1],k=r.a.useState({}),y=Object(c.a)(k,2),g=y[0],w=y[1],x=[];if(!1===i&&void 0===o&&(x=l.instruments,!1===n)){var j=x.findIndex(function(e){return e.name===t});v!==j&&b(-1===j?0:j)}return r.a.createElement("div",{className:p.root},!0===i&&r.a.createElement("div",null,"Loading..."),!1===i&&void 0===o&&r.a.createElement("div",null,r.a.createElement(C.a,{value:v,onChange:function(e,t){var a=x.map(function(e){return e.name});if(w(Object(d.a)({},g,Object(E.a)({},a[v],u.location.pathname))),b(t),!n){var r="";g[a[t]]&&null!==g[a[t]]&&(r=g[a[t]]),u.replace(""===r?"/chordViewer/"+a[t]:r)}},centered:!0},x.map(function(e,t){return r.a.createElement(I.a,Object.assign({key:e.id,label:e.name},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)))})),x.map(function(e,t){return r.a.createElement(he,{key:e.id,index:t,value:v},r.a.createElement(me,{noViewer:n,instrumentId:e.id,instrumentName:e.name}))})),void 0!==o&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))},ke=n(253),ye=n(240),ge=n(241),Ee=n(227),we=n(242),xe=n(254),je=n(216),Oe=n(176),Ce=n(243),Ie=n(238),Fe=n(81),Ne=n(250),Se=n(6),Be=n(9),Le=function(){function e(t,n){Object(Se.a)(this,e),this._code=void 0,this._message=void 0,this._message=n,this._code=t}return Object(Be.a)(e,[{key:"message",get:function(){return this._message}},{key:"code",get:function(){return this._code}}]),e}();function Pe(e,t,n,a){var r=new Headers;return n&&n.forEach(function(e,t){r.append(t,e)}),fetch(e.toString(),{method:t,cache:"no-cache",mode:"cors",headers:r,body:a,credentials:"include"})}function Ae(e,t,n,a){return De.apply(this,arguments)}function De(){return(De=Object(k.a)(b.a.mark(function e(t,n,a,r){var i,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe(t,n,a,r);case 3:return i=e.sent,e.prev=4,e.next=7,i.json();case 7:o=e.sent,e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(4),i.ok){e.next=16;break}throw new Le(i.status,i.statusText);case 16:return e.abrupt("return",!0);case 17:if(i.ok){e.next=21;break}throw new Le(i.status,i.statusText);case 21:return e.abrupt("return",o);case 22:e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(0),e.t1;case 27:case"end":return e.stop()}},e,null,[[0,24],[4,10]])}))).apply(this,arguments)}function Ve(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(k.a)(b.a.mark(function e(t,n){var a,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams([["username",t],["password",n]]),r=new URL(u+"auth/login/"),e.next=4,Ae(r,"post",void 0,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(k.a)(b.a.mark(function e(t,n){var a,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams([["username",t],["password",n]]),r=new URL(u+"auth/register"),e.next=4,Ae(r,"post",void 0,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(){return Me.apply(this,arguments)}function Me(){return(Me=Object(k.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(u+"auth/isauth"),e.next=3,Ae(t,"get");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(){return $e.apply(this,arguments)}function $e(){return($e=Object(k.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(u+"auth/logout"),e.next=3,Ae(t,"get");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _e=function(){var e=Object(k.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze();case 3:t.showNotification("Vous \xeates bien d\xe9connect\xe9","success"),n.setUnauthStatus(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.code?t.showNotification("Vous n'\xeates pas connect\xe9","error"):t.showNotification("Erreur serveur inconnue","error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=se().history,t=r.a.useContext(p),n=Object(a.useState)(""),i=Object(c.a)(n,2),o=i[0],l=i[1],s=Object(a.useState)(""),u=Object(c.a)(s,2),d=u[0],m=u[1],h=r.a.useContext(X),f=function(){var n=Object(k.a)(b.a.mark(function n(){var a,r,i;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ve(o,d);case 3:a=n.sent,h.showNotification("Vous \xeates bien authentifi\xe9","success"),r=a.id,i=a.username,t.setAuthStatus({id:r,username:i}),e.replace(""),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),400===n.t0.code?h.showNotification("Requ\xeate invalide","error"):401===n.t0.code?h.showNotification("Nom de compte ou mot de passe incorrect","error"):403===n.t0.code?h.showNotification("Vous \xeates d\xe9j\xe0 connect\xe9","error"):h.showNotification("Erreur serveur inconnue","error");case 13:case"end":return n.stop()}},n,null,[[0,10]])}));return function(){return n.apply(this,arguments)}}(),v=function(){var e=Object(k.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue(o,d);case 3:h.showNotification("Vous \xeates bien enregistr\xe9","success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),400===e.t0.code?h.showNotification("Requ\xeate invalide","error"):401===e.t0.code?h.showNotification("Nom d'utilisateur d\xe9j\xe0 utilis\xe9","error"):403===e.t0.code?h.showNotification("Vous \xeates d\xe9j\xe0 connect\xe9","error"):h.showNotification("Erreur serveur inconnue","error");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(k.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:t=e.sent,h.showNotification("Vous \xeates ".concat(t?"connect\xe9":"d\xe9connect\xe9"),"info"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.showNotification("Erreur serveur inconnue","error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(S.a,{item:!0},r.a.createElement(Fe.a,{style:{padding:10}},r.a.createElement(S.a,{container:!0,spacing:1,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(Ne.a,{value:o,onChange:function(e){return l(e.target.value)},label:"Nom de compte"})),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(Ne.a,{type:"password",value:d,onChange:function(e){return m(e.target.value)},label:"Mot de passe"})),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(K.a,{onClick:f},"Login"),r.a.createElement(K.a,{onClick:v},"Register"),r.a.createElement(K.a,{onClick:y},"Is Authenticated"),r.a.createElement(K.a,{onClick:function(){return _e(h,t)}},"Logout"))))))},We=n(226),Ke=n(224),Je=n(225),qe=n(110),Xe=n.n(qe),Qe=n(112),Ye=n.n(Qe),Ze=n(113),et=n.n(Ze),tt=n(114),nt=n.n(tt),at=n(111),rt=n.n(at),it=n(3),ot={success:Xe.a,warning:rt.a,error:Ye.a,info:et.a},ct=Object(D.a)(function(e){return{success:{backgroundColor:Ke.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Je.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});var lt=function(e){var t=ct(),n=e.className,a=e.message,i=e.onClose,o=e.variant,c=Object(x.a)(e,["className","message","onClose","variant"]),l=ot[o];return r.a.createElement(We.a,Object.assign({className:Object(it.a)(t[o],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:Object(it.a)(t.icon,t.iconVariant)}),a),action:[r.a.createElement(Ee.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(nt.a,{className:t.icon}))]},c))},st=n(123),ut=n.n(st),dt=n(124),mt=n.n(dt),pt=n(228),ht=n(229),ft=n(230),vt=n(231),bt=n(177),kt=n(115),yt=n.n(kt);function gt(){var e=Object(w.a)(["\n  {\n    partitions {\n      id\n      name\n      owner {\n        id\n        username\n      }\n      instrument {\n        id\n        name\n      }\n    }\n  }\n"]);return gt=function(){return e},e}var Et=H()(gt()),wt=Object(F.a)(function(e){return Object(bt.a)({fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},card:{maxWidth:345}})}),xt=function(){var e=Object($.b)(Et,{fetchPolicy:"cache-and-network"}),t=e.data,n=e.error,i=e.loading,o=wt(),c=se().history,l=Object(a.useContext)(p);return void 0!==n&&console.log("PartitionList error",n),r.a.createElement("div",null,!0===i&&r.a.createElement("div",null,"Loading..."),!1===i&&void 0===n&&void 0!==t&&r.a.createElement("div",null,r.a.createElement(S.a,{container:!0,spacing:1,style:{padding:10}},t.partitions.map(function(e){return r.a.createElement(S.a,{key:e.id,item:!0,onClick:function(){return t=e.id,void c.replace("/partition/"+t);var t}},function(e){return r.a.createElement(ht.a,{style:{maxWidth:345}},r.a.createElement(ft.a,null,r.a.createElement(vt.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},e.instrument?e.instrument.name:"Partition vide"),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},"Cr\xe9\xe9e par : ",e.owner.username))))}(e))})),"0"!==l.auth.id&&r.a.createElement(pt.a,{component:y.b,to:"/partition/editor/new",color:"secondary",className:o.fab},r.a.createElement(yt.a,null))),void 0!==n&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))};function jt(){var e=Object(w.a)(["\n  mutation CreatePartition($partitionInput: PartitionInput) {\n    createPartition (partitionInput: $partitionInput) {\n      id\n    }\n  }\n"]);return jt=function(){return e},e}function Ot(){var e=Object(w.a)(["\n{\n  instruments {\n    id\n    name\n  }\n}\n"]);return Ot=function(){return e},e}var Ct=Object(F.a)(function(e){return Object(N.a)({formControl:{margin:e.spacing(1),minWidth:120}})}),It=H()(Ot()),Ft=H()(jt()),Nt=function(){var e=Object(a.useContext)(p),t=Object(a.useContext)(X),n=se().history,i=Object(a.useState)(""),o=Object(c.a)(i,2),l=o[0],s=o[1],u=Object(a.useState)(!1),d=Object(c.a)(u,2),m=d[0],h=d[1],f=Object(a.useState)(""),v=Object(c.a)(f,2),y=v[0],g=v[1],E=Object(a.useState)(!1),w=Object(c.a)(E,2),x=w[0],j=w[1],O=Object(a.useState)(!1),C=Object(c.a)(O,2),I=C[0],F=C[1],N=Object(a.useState)(te.PUBLIC),D=Object(c.a)(N,2),V=D[0],T=D[1],U=Ct(),R=Object($.b)(It),G=R.data,M=R.loading,z=R.error,_=Object($.a)(Ft),H=Object(c.a)(_,1)[0],W=function(){var a=Object(k.a)(b.a.mark(function a(){var r,i;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("0"===e.auth.id||""===l||""===y){a.next=15;break}return r={chords:[],instrumentId:y,name:l,ownerId:e.auth.id,content:"",visibility:V},a.prev=2,a.next=5,H({variables:{partitionInput:r}});case 5:i=a.sent,a.next=12;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0),t.showNotification("Erreur lors de la cr\xe9ation de la partition","error");case 12:i.data.createPartition.id&&(n.replace("/partitionList"),t.showNotification("Partition cr\xe9\xe9e","success")),a.next=18;break;case 15:""===y&&j(!0),""===l&&h(!0),t.showNotification("Veuillez renseigner les champs de cr\xe9ation de partition","warning");case 18:case"end":return a.stop()}},a,null,[[2,8]])}));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",null,"0"===e.auth.id&&r.a.createElement("div",null,"Veuillez vous authentifier ou vous cr\xe9er un compte pour cr\xe9er une partition"),"0"!==e.auth.id&&!1===M&&void 0===z&&r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(S.a,{item:!0},r.a.createElement(Fe.a,{style:{padding:10}},r.a.createElement(S.a,{container:!0,spacing:1,direction:"column",alignItems:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(Ne.a,{error:m,value:l,onChange:function(e){""===e.target.value?h(!0):h(!1),s(e.target.value)},label:"Nom de partition"})),r.a.createElement(B.a,{className:U.formControl},r.a.createElement(L.a,null,"Instrument"),r.a.createElement(P.a,{error:x,value:y,onChange:function(e){return function(e){x&&j(!1),g(e.target.value)}(e)}},G.instruments.map(function(e){return r.a.createElement(A.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(B.a,{className:U.formControl},r.a.createElement(L.a,null,"Visibilit\xe9"),r.a.createElement(P.a,{error:I,value:V,onChange:function(e){return function(e){I&&F(!1),T(e.target.value)}(e)}},r.a.createElement(A.a,{key:te.PUBLIC,value:te.PUBLIC},te.PUBLIC),r.a.createElement(A.a,{key:te.PRIVATE,value:te.PRIVATE},te.PRIVATE))),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(K.a,{onClick:function(){return W()}},"Cr\xe9er la partition")))))),"0"!==e.auth.id&&!0===M&&r.a.createElement("div",null,"Loading..."),"0"!==e.auth.id&&void 0!==z&&r.a.createElement("div",null,"error"))},St=n(31),Bt=n(120),Lt=n.n(Bt),Pt=n(116),At=n.n(Pt),Dt=n(117),Vt=n(5),Tt=n(248),Ut=Object(Vt.a)(function(e){return{tooltip:{backgroundColor:"rgba(0, 0, 0, 0)"}}})(Tt.a),Rt=function(e){var t=e.chordKey,n=e.chordSuffix,a=e.instrumentId,i=e.instrumentName;return r.a.createElement(Ut,{placement:"right-start",style:{display:"inline"},title:r.a.createElement(oe,{isInPartition:!0,instrumentId:a,instrumentName:i,mainKey:t,suffix:n})},r.a.createElement(j.a,{variant:"inherit",display:"inline",style:{fontWeight:"bold",display:"inline"}},t+n))};function Gt(){var e=Object(w.a)(['\n    {\n      partition(id: "','") {\n        id\n        name\n        creationDate\n        updatedAt\n        visibility\n        content\n        chords {\n          id\n          key\n          suffix\n          position\n        }\n        owner {\n          id\n          username\n        }\n        instrument {\n          id\n          name\n        }\n      }\n    }\n  ']);return Gt=function(){return e},e}var Mt=Object(F.a)(function(e){return Object(N.a)({fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})});function zt(e,t,n,a){var r=[e];t.forEach(function(e){return r=function(e,t){var n=[];return e.forEach(function(e){for(var a=e.split(t),r=[],i=0;i<a.length;i++)r.push(a[i]),i!==a.length-1&&r.push(t);n=[].concat(Object(St.a)(n),r)}),n}(r,e.key+e.suffix)});var i=[];return r.forEach(function(e,r){var o=t.find(function(t){return t.key+t.suffix===e});void 0!==o?i.push('<TooltipChord instrumentName="'.concat(a,'" instrumentId="').concat(n,'" chordKey="').concat(o.key,'" chordSuffix="').concat(o.suffix,'"/>')):i.push(e)}),i.join("")}var $t=function(){var e,t=se().match,n=Object($.b)((e=t.params.partitionId,H()(Gt(),e))),i=n.data,o=n.loading,c=n.error,l=Object(a.useContext)(p),s=Mt();return r.a.createElement("div",null,!0===o&&r.a.createElement("div",null,"Loading..."),!1===o&&void 0===c&&void 0!==i&&r.a.createElement(S.a,{container:!0,direction:"column",alignItems:"center",style:{padding:15},spacing:1},r.a.createElement(S.a,{item:!0},r.a.createElement(j.a,{variant:"h3",gutterBottom:!0},i.partition.name),i.partition.chords.map(function(e,t){return r.a.createElement("span",{key:e.id},r.a.createElement(Rt,{instrumentName:i.partition.instrument.name,instrumentId:i.partition.instrument.id,chordKey:e.key,chordSuffix:e.suffix}),i.partition.chords.length-1>t&&r.a.createElement("span",null," - "))})),r.a.createElement(S.a,{item:!0},r.a.createElement(Dt.a,{children:zt(At()(i.partition.content),i.partition.chords,i.partition.instrument.id,i.partition.instrument.name),options:{overrides:{TooltipChord:Rt}}})),"0"!==l.auth.id&&l.auth.id===i.partition.owner.id&&r.a.createElement(pt.a,{component:y.b,to:"/partition/editor/"+i.partition.id,color:"secondary",className:s.fab},r.a.createElement(Lt.a,null))),void 0!==c&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))},_t=n(239),Ht=n(122),Wt=n.n(Ht),Kt=n(121),Jt=n.n(Kt),qt=n(84),Xt=n(80),Qt=n(233),Yt=n(237),Zt=n(235),en=n(236),tn=n(234),nn=n(232),an=function(e){var t=e.open,n=e.title,a=e.content,i=e.buttonAccept,o=e.buttonRefuse,c=e.handleAccept,l=e.handleRefuse,s=e.handleClose,u=Object(W.a)(),d=Object(nn.a)(u.breakpoints.down("sm"));return r.a.createElement("div",null,r.a.createElement(Qt.a,{fullScreen:d,open:t,onClose:s,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(tn.a,{id:"responsive-dialog-title"},n),r.a.createElement(Zt.a,null,r.a.createElement(en.a,null,a)),r.a.createElement(Yt.a,null,r.a.createElement(K.a,{onClick:l,color:"primary"},o),r.a.createElement(K.a,{onClick:c,color:"primary",autoFocus:!0},i))))};function rn(){var e=Object(w.a)(["\n mutation DeletePartition($id: ID!) {\n   deletePartition(id: $id)\n }\n"]);return rn=function(){return e},e}function on(){var e=Object(w.a)(["\n  mutation ModifyPartition($id: ID!, $partitionInput: PartitionInput!) {\n    modifyPartition(id: $id, partitionInput: $partitionInput) {\n      id\n      name\n      chords {\n        id\n      }\n      instrument {\n        id\n      }\n      content\n    }\n  }\n"]);return on=function(){return e},e}function cn(){var e=Object(w.a)(['\n{\n  partition(id: "','") {\n    id\n    name\n    visibility\n    owner {\n      id\n      username\n    }\n    content\n    chords {\n      id\n      key\n      suffix\n    }\n    instrument {\n      id\n      name\n    }\n  }\n}\n']);return cn=function(){return e},e}var ln=Object(F.a)(function(e){return{success:{backgroundColor:Ke.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Je.a[700]},formControl:{margin:e.spacing(1),minWidth:120}}}),sn=H()(on()),un=H()(rn()),dn=function(){var e,t=se(),n=t.match,i=t.history,o=Object($.b)((e=n.params.partitionId,H()(cn(),e))),l=o.loading,s=o.data,u=o.error,d=Object(a.useState)(""),m=Object(c.a)(d,2),h=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),g=y[0],E=y[1],w=Object(a.useState)(""),x=Object(c.a)(w,2),O=x[0],C=x[1],I=Object(a.useState)([]),F=Object(c.a)(I,2),N=F[0],D=F[1],V=Object($.a)(sn),T=Object(c.a)(V,1)[0],U=Object($.a)(un),R=Object(c.a)(U,1)[0],G=Object(a.useState)(te.PUBLIC),M=Object(c.a)(G,2),z=M[0],_=M[1],W=Object(a.useContext)(X),J=Object(a.useContext)(p),q=Object(a.useState)(!1),Q=Object(c.a)(q,2),Y=Q[0],Z=Q[1],ee=ln();Object(a.useEffect)(function(){void 0!==s&&(f(s.partition.name),C(s.partition.content),_(s.partition.visibility))},[s]);var ne=function(){var e=Object(k.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.partition.chords.filter(function(e){return!N.includes(e.id)}),a={chords:t.map(function(e){return e.id}),content:O,instrumentId:s.partition.instrument.id,name:h,ownerId:s.partition.owner.id,visibility:z},e.prev=2,e.next=5,T({variables:{id:n.params.partitionId,partitionInput:a}});case 5:null!==e.sent.data&&(W.showNotification("La partition a bien \xe9t\xe9 modifi\xe9","success"),i.replace("/partition/"+s.partition.id)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("err",e.t0),W.showNotification("Erreur lors de la modification de la partition","error");case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(k.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R({variables:{id:n.params.partitionId}});case 3:null!==e.sent.data&&(W.showNotification("La partition a bien supprim\xe9e","success"),i.replace("/partitionList")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err",e.t0),W.showNotification("Erreur lors de la modification de la partition","error");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),re=function(){Z(!1)};return r.a.createElement("div",null,"0"===J.auth.id&&r.a.createElement("div",null,"Veuillez vous authentifier ou vous cr\xe9er un compte pour modifier une partition"),"0"!==J.auth.id&&!0===l&&r.a.createElement("div",null,"Loading..."),"0"!==J.auth.id&&!1===l&&void 0===u&&J.auth.id===s.partition.owner.id&&r.a.createElement(S.a,{container:!0,direction:"column",alignItems:"center",style:{padding:15},spacing:1},r.a.createElement(S.a,{item:!0},r.a.createElement(Ne.a,{error:g,defaultValue:s.partition.name,onChange:function(e){""===e.target.value?E(!0):E(!1),f(e.target.value)},label:"Nom de partition"})),r.a.createElement(S.a,{item:!0},r.a.createElement(j.a,{variant:"caption",style:{fontStyle:"italic"}},"Pour ajouter des accords \xe0 la partition, allez dans l'onglet ",s.partition.instrument.name," de la page 'chord' puis cliquez sur le bouton 'Add To partition'")),r.a.createElement(S.a,{item:!0},r.a.createElement(je.a,null,s.partition.chords.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Oe.a,null,r.a.createElement(Ie.a,{primaryTypographyProps:-1!==N.findIndex(function(t){return t===e.id})?{style:{textDecoration:"line-through"}}:{},primary:e.key+e.suffix}),r.a.createElement(_t.a,null,-1!==N.findIndex(function(t){return t===e.id})?r.a.createElement(Ee.a,{onClick:function(){return t=e.id,void D(N.filter(function(e){return e!==t}));var t},edge:"end","aria-label":"delete"},r.a.createElement(Jt.a,{fontSize:"small"})):r.a.createElement(Ee.a,{onClick:function(){return t=e.id,void(-1===N.findIndex(function(e){return e===t})&&D([].concat(Object(St.a)(N),[t])));var t},edge:"end","aria-label":"delete"},r.a.createElement(Wt.a,{fontSize:"small"})))))}))),r.a.createElement(S.a,{item:!0},r.a.createElement(j.a,{variant:"caption",style:{fontStyle:"italic"}},"Cet \xe9diteur support le ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://fr.wikipedia.org/wiki/Markdown"},"Markdown"))),r.a.createElement(S.a,{item:!0},r.a.createElement(qt.ControlledEditor,{language:"markdown",theme:"light",value:O,options:{selectOnLineNumbers:!0},height:"40vh",width:"50vw",onChange:function(e,t){C(t)}})),r.a.createElement(S.a,{item:!0},r.a.createElement(B.a,{className:ee.formControl},r.a.createElement(L.a,null,"Visibilit\xe9"),r.a.createElement(P.a,{value:z,onChange:function(e){return function(e){_(e.target.value)}(e)}},r.a.createElement(A.a,{key:te.PUBLIC,value:te.PUBLIC},te.PUBLIC),r.a.createElement(A.a,{key:te.PRIVATE,value:te.PRIVATE},te.PRIVATE)))),r.a.createElement(S.a,{item:!0},r.a.createElement(K.a,{variant:"outlined",onClick:function(){return ne()}},"Enregister les modifications")),r.a.createElement(S.a,{item:!0},r.a.createElement(K.a,{style:{backgroundColor:Xt.a[500]},onClick:function(){Z(!0)}},"Supprimer la partition")),r.a.createElement(an,{open:Y,title:"Suppression de la partition",content:"Confirmez vous la suppression de la partition ?",buttonAccept:"Oui",buttonRefuse:"Non",handleAccept:ae,handleRefuse:re,handleClose:re})),"0"!==J.auth.id&&!1===l&&void 0===u&&J.auth.id!==s.partition.owner.id&&r.a.createElement("div",null,"Vous devez \xeatre propri\xe9taire de la partition pour pouvoir la modifier"),"0"===J.auth.id&&void 0!==u&&r.a.createElement("div",null,"Error, the backend moved to the dark side."))},mn=Object(D.a)(function(e){return Object(N.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},margin:{margin:e.spacing(1)},list:{width:250},fullList:{width:"auto"}})}),pn=function(e){var t=e.onToggleDark,n=mn(),i=r.a.useContext(p),o=r.a.useContext(X),l=Object(a.useState)(!1),s=Object(c.a)(l,2),u=s[0],d=s[1],m=function(e,t){"clickaway"!==t&&o.closeNotification()},h=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&d(e)}};return r.a.createElement("div",{className:n.root},r.a.createElement(ke.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==o.notification.message,autoHideDuration:6e3,onClose:m},r.a.createElement(lt,{onClose:m,variant:o.notification.type,message:o.notification.message})),r.a.createElement(y.a,null,r.a.createElement(ye.a,{position:"static"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:h(!0)},r.a.createElement(ut.a,null)),r.a.createElement(j.a,{variant:"h6",className:n.title},"Chords"),r.a.createElement(we.a,{"aria-label":"outlined button group"},r.a.createElement(K.a,{component:y.b,to:"/chordViewer",color:"inherit"},"Chord"),r.a.createElement(K.a,{component:y.b,to:"/partitionList",color:"inherit"},"Partitions"),"0"===i.auth.id?r.a.createElement(K.a,{component:y.b,to:"/login",color:"inherit"},"Login"):r.a.createElement(K.a,{onClick:Object(k.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(o,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),color:"inherit"},"Logout")))),r.a.createElement(xe.a,{open:u,onClose:h(!1)},r.a.createElement("div",{className:n.list,role:"presentation",onClick:h(!1),onKeyDown:h(!1)},r.a.createElement(je.a,null,r.a.createElement(Oe.a,{button:!0,key:"theme",onClick:t},r.a.createElement(Ce.a,null,r.a.createElement(mt.a,null)),r.a.createElement(Ie.a,{primary:"Dark/Light"}))))),r.a.createElement(g.a,{path:"/chordViewer/:instrument?/:key?/:suffix?",render:function(){return r.a.createElement(be,{noViewer:!1})}}),r.a.createElement(g.a,{exact:!0,path:"/partitionList",component:xt}),r.a.createElement(g.a,{exact:!0,path:"/partition/editor/new",component:Nt}),r.a.createElement(g.a,{exact:!0,path:"/partition/editor/:partitionId",component:dn}),r.a.createElement(g.a,{exact:!0,path:"/partition/:partitionId",component:$t}),r.a.createElement(g.a,{path:"/login",component:He})))},hn=n(32),fn=n(127),vn=n(126),bn=n(251),kn=n(244),yn=new fn.a({uri:u+"graphql",credentials:"include"}),gn=function(){var e=window.localStorage.getItem("theme"),t=null!==e?JSON.parse(e):{palette:{type:"light"}},n=Object(a.useState)(t),i=Object(c.a)(n,2),o=i[0],l=i[1],s=Object(vn.a)(o);return r.a.createElement(hn.a,{client:yn},r.a.createElement(f,null,r.a.createElement(Y,null,r.a.createElement(bn.a,{theme:s},r.a.createElement(kn.a,null),r.a.createElement(pn,{onToggleDark:function(){l({palette:{type:"light"===o.palette.type?"dark":"light"}}),window.localStorage.setItem("theme",JSON.stringify({palette:{type:"light"===o.palette.type?"dark":"light"}}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(gn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,1,2]]]);
//# sourceMappingURL=main.828f1703.chunk.js.map